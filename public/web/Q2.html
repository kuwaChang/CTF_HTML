<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Webクイズ</title>
  </head>

  <body>
    <h1>問題2</h1>
    <h2>ここってっどこにあるんだろう</h2>
    <button onclick="window.location.href='image1.jpg'">Image,jpg</button>
    <input type="text" id="answer" placeholder="答えを入力">
    <button onclick="checkAnswer()">回答</button>
    <p id="quizResult"></p>
    <p id="scoreDisplay"></p>

    <script>
      async function checkAnswer() {
        const ans = document.getElementById("answer").value;

        const res = await fetch("/checkAnswer", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            qid: "q2",
            answer: ans
          })
        });

        const result = await res.json();
        console.log(result);

        //結果を画面に表示
        document.getElementById("quizResult").innerText = result.message;
        document.getElementById("scoreDisplay").innerText = "現在の得点: " + result.score;
      }
    </script>
  </body>
</html>