<!DOCTYPE html>
<html>
    <head>
        <title>Crypto</title>
    </head>

    <body>
        <h2>Crypto Challenge</h2>
        <p>暗号文: FRPHEVGL</p>
        <input id="ans" placeholder="平文を入力">
        <button onclick="checkAnswer()">送信</button>
        <p id="quizResult"></p>
        <p id="scoreDisplay"></p>

        <script>
        async function checkAnswer() {
            const ans = document.getElementById("ans").value;
            const res = await fetch("/checkAnswer", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ 
                qid: "q2",
                answer: ans
             })
            });
            const data = await res.json();
            document.getElementById("quizResult").innerText = data.message;
            document.getElementById("scoreDisplay").innerText = "現在の得点: " + result.score;
        }
        </script>
    </body>
</html>